{"version":3,"sources":["api/streams.js","views/pages/streams/show/index.js","views/routes/routesData.js","store/actions/index.js","store/actions/types.js","views/routes/index.js","history.js","views/app.js","store/reducers/index.js","store/reducers/streamsReducer.js","index.js"],"names":["streamsApi","axios","create","StreamShow","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","buildPlayer","stream","player","flv","createPlayer","type","url","attachMediaElement","videoRef","current","load","createRef","inherits","createClass","key","value","handleFetchStream","react_default","a","createElement","ref","className","controls","Component","defaultProps","match","connect","routesData","path","page","_ref","streams","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","response","data","wrap","_context2","prev","next","get","sent","payload","stop","_x2","apply","arguments","ownProps","Routes","Switch","map","item","DynRoutedPage","_item$ownProps","Route","exact","render","length","undefined","assign","createBrowserHistory","App","Router","history","react","routes","state","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","reduxThunk","es","app","document","getElementById"],"mappings":"4RAIeA,SAFIC,EAAMC,OAAO,ICG1BC,EAAU,SAAAC,GACd,SAAAD,EAAYE,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,IACjBG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,KAAAH,KAAMJ,KAcRQ,YAAc,WAAM,IACVC,EAAWR,EAAKD,MAAhBS,QACJR,EAAKS,QAAWD,IACpBR,EAAKS,OAASC,IAAIC,aAAa,CAC7BC,KAAM,MACNC,IAAG,8CAELb,EAAKS,OAAOK,mBAAmBd,EAAKe,SAASC,SAC7ChB,EAAKS,OAAOQ,SArBZjB,EAAKe,SAAWG,sBAFClB,EADL,OAAAC,OAAAkB,EAAA,EAAAlB,CAAAJ,EAAAC,GAAAG,OAAAmB,EAAA,EAAAnB,CAAAJ,EAAA,EAAAwB,IAAA,oBAAAC,MAAA,YAQZC,EAD6BpB,KAAKJ,MAA1BwB,mBACU,GAClBpB,KAAKI,gBATO,CAAAc,IAAA,qBAAAC,MAAA,WAaZnB,KAAKI,gBAbO,CAAAc,IAAA,SAAAC,MAAA,WA6BZ,OADmBnB,KAAKJ,MAAhBS,OAGNgB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SACEC,IAAMxB,KAAKY,SACXa,UAAU,yCACVC,UAAQ,MAPI,SA7BRhC,EAAA,CAAiBiC,aA4CjCjC,EAAWkC,aAAe,CACxBvB,OAAQ,KACRwB,MAAO,KACPT,kBAAmB,cAGNU,IC7CAC,EARI,CACjB,CACEC,KAAM,IACNC,KDkDWH,YACb,SAAAI,GAAA,MAAmB,CAAE7B,OAArB6B,EAAGC,UACH,CAAEf,kBE7C6B,iCAAAgB,EAAAtC,OAAAuC,EAAA,EAAAvC,CAAAwC,EAAAhB,EAAAiB,KAAM,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAA,OAAAL,EAAAhB,EAAAsB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACdxD,EAAWyD,IAAX,cADc,OAC/BN,EAD+BG,EAAAI,KAE7BN,EAASD,EAATC,KACRF,EAAS,CACPhC,KCd+B,sBDe/ByC,QAAS,CAAEP,UALwB,wBAAAE,EAAAM,SAAAX,MAAN,gBAAAY,GAAA,OAAAhB,EAAAiB,MAAArD,KAAAsD,YAAA,KF2ClBxB,CAGbpC,GCpDE6D,SAAU,KGcCC,EAhBA,kBACbnC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wCACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAACkC,EAAA,EAAD,KACI1B,EAAW2B,IAAI,SAA2BC,GAAM,IACtC3B,EAA6C2B,EAA7C3B,KAAY4B,EAAiCD,EAAvC1B,KADgC4B,EACOF,EAAlBJ,gBADW,IAAAM,EACA,GADAA,EAE9C,OACExC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAOC,OAAK,EAAC/B,KAAOA,EAClBgC,OAAS,eAACpE,EAAD0D,UAAAW,OAAA,QAAAC,IAAAZ,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBjC,EAAAC,EAAAC,cAACqC,EAAD9D,OAAAqE,OAAA,GAAoBvE,EAAa2D,qBCV3Da,gBCUAC,EAPH,kBACVhD,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAQC,QAAUA,GAChBlD,EAAAC,EAAAC,cAACiD,EAAA,SAAD,KACEnD,EAAAC,EAAAC,cAACkD,EAAD,SCLCtC,ECDgB,WAAwB,IAAvBuC,EAAuBpB,UAAAW,OAAA,QAAAC,IAAAZ,UAAA,GAAAA,UAAA,GAAf,GAC9B,QAD6CA,UAAAW,OAAA,EAAAX,UAAA,QAAAY,GAC9BzD,MACb,ILF+B,sBKG/B,QACE,OAAOiE,IDAEC,EAFEC,YAAgB,CAAEzC,YEK7B0C,EAAmBC,OAAOC,sCAAwCC,IAClEC,EAAQC,YAAYP,EAAUE,EAAiBM,YAAgBC,OAErEpB,iBAAO3C,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAUJ,MAAQA,GAAQ5D,EAAAC,EAAAC,cAAC+D,EAAD,OAAoBC,SAASC,eAAe","file":"static/js/main.6e5e4b80.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst streamsApi = axios.create({ });\r\n\r\nexport default streamsApi;\r\n","import React, { createRef, Component } from 'react';\r\nimport flv from 'flv.js';\r\nimport { connect } from 'react-redux';\r\nimport { handleFetchStream } from '../../../../store/actions';\r\n\r\nconst StreamShow = class extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoRef = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { handleFetchStream} = this.props;\r\n    handleFetchStream(1);\r\n    this.buildPlayer();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.buildPlayer();\r\n  }\r\n\r\n  buildPlayer = () => {\r\n    const { stream } = this.props;\r\n    if (this.player || !stream) return;\r\n    this.player = flv.createPlayer({\r\n      type: 'flv',\r\n      url: `http://wgtvlive.heroku.app.com/live/1.flv`,\r\n    });\r\n    this.player.attachMediaElement(this.videoRef.current);\r\n    this.player.load();\r\n  }\r\n  \r\n  render() {\r\n    const { stream } = this.props;\r\n    if (!stream) return null;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <video \r\n            ref={ this.videoRef } \r\n            className=\"video-container radius bordered shadow\"\r\n            controls\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nStreamShow.defaultProps = {\r\n  stream: null,\r\n  match: null,\r\n  handleFetchStream: () => {},\r\n};\r\n\r\nexport default connect(\r\n  ({ streams  }) => ({ stream: streams }),\r\n  { handleFetchStream },\r\n)(StreamShow);\r\n","import StreamShow from '../pages/streams/show';\r\n\r\nconst routesData = [\r\n  {\r\n    path: '/',\r\n    page: StreamShow,\r\n    ownProps: {},\r\n  }\r\n];\r\n\r\nexport default routesData;\r\n","import { HANDLE_FETCH_STREAMS, HANDLE_FETCH_STREAM } from './types';\r\nimport streamsApi from '../../api/streams';\r\n\r\nexport const handleFetchStreams = () => async (dispatch) => {\r\n  const response = await streamsApi.get('/streams');\r\n  const { data } = response;\r\n  dispatch({\r\n    type: HANDLE_FETCH_STREAMS,\r\n    payload: { data },\r\n  });\r\n};\r\n\r\nexport const handleFetchStream = () => async (dispatch) => {\r\n  const response = await streamsApi.get(`/streams/1`);\r\n  const { data } = response;\r\n  dispatch({\r\n    type: HANDLE_FETCH_STREAM,\r\n    payload: { data },\r\n  });\r\n};\r\n","/* Action Types */\r\nexport const HANDLE_FETCH_STREAMS = 'HANDLE_FETCH_STREAMS';\r\nexport const HANDLE_FETCH_STREAM = 'HANDLE_FETCH_STREAM';\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport routesData from './routesData';\r\n\r\nconst Routes = () => \r\n  <div className=\"grid-x grid-padding-x grid-padding-y\">\r\n    <div className=\"cell\">\r\n      <Switch>\r\n        { routesData.map(function iterateRoutesData(item) {\r\n            const { path, page: DynRoutedPage, ownProps = {} } = item;\r\n            return (\r\n              <Route exact path={ path } \r\n                render={ (props = {}) => <DynRoutedPage { ...props } { ...ownProps } /> } \r\n              />\r\n            );\r\n          }) }\r\n      </Switch>\r\n    </div>\r\n  </div>;\r\n\r\nexport default Routes;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import React, { Fragment } from 'react';\r\nimport { Router } from 'react-router-dom';\r\nimport Routes from './routes';\r\nimport history from '../history';\r\n\r\nconst App = () =>\r\n  <Router history={ history }>\r\n    <Fragment>\r\n      <Routes />\r\n    </Fragment>\r\n  </Router>;\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport streamsReducer from './streamsReducer';\r\n\r\nconst [streams] = [streamsReducer];\r\nconst reducers = combineReducers({ streams });\r\n\r\nexport default reducers;\r\n","import { HANDLE_FETCH_STREAM } from '../actions/types';\r\n\r\nconst streamsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case HANDLE_FETCH_STREAM:\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default streamsReducer;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './views/app';\r\nimport reducers from './store/reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\r\n\r\nrender(<Provider store={ store }><App /></Provider>, document.getElementById('root'));\r\n"],"sourceRoot":""}