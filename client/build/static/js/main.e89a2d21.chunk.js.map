{"version":3,"sources":["views/layouts/navigation-header/index.js","views/layouts/base-grid/index.js","api/streams.js","views/pages/streams/list/index.js","store/actions/index.js","store/actions/types.js","views/pages/streams/show/index.js","views/routes/routesData.js","views/routes/index.js","history.js","views/app.js","store/reducers/streamsReducer.js","store/reducers/index.js","index.js"],"names":["NavigationHeader","react_default","a","createElement","CellHeaderLeft","CellHeaderRight","CellMainContent","BaseGrid","_temp","_class","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","children","props","cellHeaderLeft","find","child","type","cellHeaderRight","cellMainContent","className","Component","defaultProps","streamsApi","axios","create","baseURL","StreamList","handleFetchStreams","streams","length","base_grid","map","item","Link","to","reverse","connect","_ref","_ref$streams","values","asyncToGenerator","regenerator_default","mark","_callee","dispatch","response","data","wrap","_context","prev","next","get","sent","payload","stop","_x","StreamShow","_this","call","buildPlayer","stream","player","flv","createPlayer","url","attachMediaElement","videoRef","current","load","createRef","handleFetchStream","ref","controls","match","routesData","path","page","ownProps","_ref2","_callee2","_context2","_x2","forEach","uuid","v4","Routes","Switch","DynRoutedPage","_item$ownProps","Route","exact","render","undefined","assign","createBrowserHistory","App","Router","history","react","navigation_header","routes","streamsReducer","state","action","objectSpread","_mapKeys","form","formReducer","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","reduxThunk","es","app","document","getElementById"],"mappings":"kKAkBeA,EAdU,kBAAMC,EAAAC,EAAAC,cAAA,4FCFzBC,EAAiB,kBAAM,MACvBC,EAAkB,kBAAM,MACxBC,EAAkB,kBAAM,MAExBC,GAAQC,EAAAC,EAAA,SAAAC,GAAA,SAAAH,IAAA,OAAAI,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAAI,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAJ,EAAAG,GAAAC,OAAAQ,EAAA,EAAAR,CAAAJ,EAAA,EAAAa,IAAA,SAAAC,MAAA,WAKH,IACCC,EAAaT,KAAKU,MAAlBD,SACFE,EAAiBF,EAASG,KAAK,SAAAC,GAAK,OAAIA,EAAMC,OAASvB,IACvDwB,EAAkBN,EAASG,KAAK,SAAAC,GAAK,OAAIA,EAAMC,OAAStB,IACxDwB,EAAkBP,EAASG,KAAK,SAAAC,GAAK,OAAIA,EAAMC,OAASrB,IAC9D,OACEL,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,uCACb7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,iBACb7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,aACXN,EAAiBA,EAAeD,MAAMD,SAAW,OAGvDrB,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,iBACb7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,cACXF,EAAkBA,EAAgBL,MAAMD,SAAW,OAGzDrB,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,gCACXD,EAAkBA,EAAgBN,MAAMD,SAAW,WAvBjDf,EAAA,CAAiBwB,aAAjBtB,EACLL,eAAiBA,EADZK,EAELJ,gBAAkBA,EAFbI,EAGLH,gBAAkBA,EAHbE,GA8BdD,EAASyB,aAAe,CACtBV,SAAU,IAGGf,yCClCA0B,SAJIC,EAAMC,OAAO,CAC9BC,QAAS,gBCGLC,EAAU,SAAA3B,GAAA,SAAA2B,IAAA,OAAA1B,OAAAC,EAAA,EAAAD,CAAAE,KAAAwB,GAAA1B,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0B,GAAArB,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAA0B,EAAA3B,GAAAC,OAAAQ,EAAA,EAAAR,CAAA0B,EAAA,EAAAjB,IAAA,oBAAAC,MAAA,YAGZiB,EAD+BzB,KAAKU,MAA5Be,wBAFI,CAAAlB,IAAA,SAAAC,MAAA,WAML,IACCkB,EAAY1B,KAAKU,MAAjBgB,QACR,OAAKA,EAAQC,OAEXvC,EAAAC,EAAAC,cAACsC,EAAD,KACExC,EAAAC,EAAAC,cAACsC,EAASrC,eAAV,UACAH,EAAAC,EAAAC,cAACsC,EAASpC,gBAAV,UACAJ,EAAAC,EAAAC,cAACsC,EAASnC,gBAAV,KACIiC,EAAQG,IAAI,SAAwBC,GAClC,OACE1C,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,+BACb7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,gBACb7B,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,wCAAP,IAA6CF,EAAAC,EAAAC,cAAA,WAA7C,IAAmDF,EAAAC,EAAAC,cAAA,iBAAnD,0BAAqFF,EAAAC,EAAAC,cAAA,WAArF,IAA2FF,EAAAC,EAAAC,cAAA,wBAA3F,OACAF,EAAAC,EAAAC,cAACyC,EAAA,EAAD,CAAMjB,KAAK,SAASkB,GAAE,IAASf,UAAU,yCAAzC,+BAILgB,YAfiB,SARhBT,EAAA,CAAiBN,aA8BjCM,EAAWL,aAAe,CACxBO,QAAS,GACTD,mBAAoB,cAGPS,kBACb,SAAAC,GAAA,IAAAC,EAAAD,EAAGT,eAAH,IAAAU,EAAa,GAAbA,EAAA,MAAuB,CACrBV,QAAS5B,OAAOuC,OAAOX,KAEzB,CAAED,mBC1C8B,iCAAAU,EAAArC,OAAAwC,EAAA,EAAAxC,CAAAyC,EAAAlD,EAAAmD,KAAM,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAA,OAAAL,EAAAlD,EAAAwD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACf5B,EAAW6B,IAAI,YADA,OAChCN,EADgCG,EAAAI,KAE9BN,EAASD,EAATC,KACRF,EAAS,CACP5B,KCNgC,uBDOhCqC,QAAS,CAAEP,UALyB,wBAAAE,EAAAM,SAAAX,MAAN,gBAAAY,GAAA,OAAAlB,EAAAhC,MAAAH,KAAAI,YAAA,KDsCnB8B,CAKbV,WGxCI8B,EAAU,SAAAzD,GACd,SAAAyD,EAAY5C,GAAO,IAAA6C,EAAA,OAAAzD,OAAAC,EAAA,EAAAD,CAAAE,KAAAsD,IACjBC,EAAAzD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwD,GAAAE,KAAAxD,KAAMU,KAcR+C,YAAc,WAAM,IACVC,EAAWH,EAAK7C,MAAhBgD,QACJH,EAAKI,QAAWD,IACpBH,EAAKI,OAASC,IAAIC,aAAa,CAC7B/C,KAAM,MACNgD,IAAG,sBAELP,EAAKI,OAAOI,mBAAmBR,EAAKS,SAASC,SAC7CV,EAAKI,OAAOO,SArBZX,EAAKS,SAAWG,sBAFCZ,EADL,OAAAzD,OAAAO,EAAA,EAAAP,CAAAwD,EAAAzD,GAAAC,OAAAQ,EAAA,EAAAR,CAAAwD,EAAA,EAAA/C,IAAA,oBAAAC,MAAA,YAQZ4D,EAD6BpE,KAAKU,MAA1B0D,mBACU,GAClBpE,KAAKyD,gBATO,CAAAlD,IAAA,qBAAAC,MAAA,WAaZR,KAAKyD,gBAbO,CAAAlD,IAAA,SAAAC,MAAA,WA6BZ,OADmBR,KAAKU,MAAhBgD,OAGNtE,EAAAC,EAAAC,cAACsC,EAAD,KACExC,EAAAC,EAAAC,cAACsC,EAASrC,eAAV,UACAH,EAAAC,EAAAC,cAACsC,EAASpC,gBAAV,UACAJ,EAAAC,EAAAC,cAACsC,EAASnC,gBAAV,KACEL,EAAAC,EAAAC,cAAA,SACE+E,IAAMrE,KAAKgE,SACX/C,UAAU,yCACVqD,UAAQ,MATI,SA7BRhB,EAAA,CAAiBpC,aA8CjCoC,EAAWnC,aAAe,CACxBuC,OAAQ,KACRa,MAAO,KACPH,kBAAmB,cAGNlC,ICtDTsC,EAAa,CACjB,CACEC,KAAM,aACNC,KAAMlD,EACNmD,SAAU,IAEZ,CACEF,KAAM,IACNC,KD8CWxC,YACb,SAAAC,GAAA,MAAmB,CAAEuB,OAArBvB,EAAGT,UACH,CAAE0C,kBFhD6B,iCAAAQ,EAAA9E,OAAAwC,EAAA,EAAAxC,CAAAyC,EAAAlD,EAAAmD,KAAM,SAAAqC,EAAOnC,GAAP,IAAAC,EAAAC,EAAA,OAAAL,EAAAlD,EAAAwD,KAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cAAA8B,EAAA9B,KAAA,EACd5B,EAAW6B,IAAX,cADc,OAC/BN,EAD+BmC,EAAA5B,KAE7BN,EAASD,EAATC,KACRF,EAAS,CACP5B,KCd+B,sBDe/BqC,QAAS,CAAEP,UALwB,wBAAAkC,EAAA1B,SAAAyB,MAAN,gBAAAE,GAAA,OAAAH,EAAAzE,MAAAH,KAAAI,YAAA,KE8ClB8B,CAGboB,GChDEqB,SAAU,KAIdH,EAAWQ,QAAQ,SAA2BlD,GAC5CA,EAAKmD,KAAOA,IAAKC,OAGJV,QCAAW,EAhBA,kBACb/F,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,wCACb7B,EAAAC,EAAAC,cAAA,OAAK2B,UAAU,QACb7B,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,KACIZ,EAAW3C,IAAI,SAA2BC,GAAM,IACtCmD,EAAmDnD,EAAnDmD,KAAMR,EAA6C3C,EAA7C2C,KAAYY,EAAiCvD,EAAvC4C,KAD0BY,EACaxD,EAAlB6C,gBADK,IAAAW,EACM,GADNA,EAE9C,OACElG,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CAAOC,OAAK,EAACjF,IAAM0E,EAAOR,KAAOA,EAC/BgB,OAAS,eAAC/E,EAADN,UAAAuB,OAAA,QAAA+D,IAAAtF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBhB,EAAAC,EAAAC,cAAC+F,EAADvF,OAAA6F,OAAA,GAAoBjF,EAAaiE,qBCX3DiB,gBCaAC,EARH,kBACVzG,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAQC,QAAUA,GAChB3G,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACE5G,EAAAC,EAAAC,cAAC2G,EAAD,MACA7G,EAAAC,EAAAC,cAAC4G,EAAD,2CCGSC,EAVQ,WAAwB,IAAvBC,EAAuBhG,UAAAuB,OAAA,QAAA+D,IAAAtF,UAAA,GAAAA,UAAA,GAAf,GAAIiG,EAAWjG,UAAAuB,OAAA,EAAAvB,UAAA,QAAAsF,EAC7C,OAAQW,EAAOvF,MACb,INLgC,uBMM9B,OAAOhB,OAAAwG,EAAA,EAAAxG,CAAA,GAAKsG,EAAUG,IAASF,EAAOlD,QAAQP,KAAM,MACtD,INN+B,sBMO/B,QACE,OAAOwD,ICNNI,EAAkBC,IAAZ/E,EAAyByE,EAGvBO,EAFEC,YAAgB,CAAEH,OAAM9E,YCInCkF,EAAmBC,OAAOC,sCAAwCC,IAClEC,EAAQC,YAAYP,EAAUE,EAAiBM,YAAgBC,OAErE1B,iBAAOrG,EAAAC,EAAAC,cAAC8H,EAAA,EAAD,CAAUJ,MAAQA,GAAQ5H,EAAAC,EAAAC,cAAC+H,EAAD,OAAoBC,SAASC,eAAe","file":"static/js/main.e89a2d21.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n// import GoogleAuth from '../../components/google-auth'\r\n\r\nconst NavigationHeader = () => <div></div>\r\n  // <div className=\"top-bar shadow\">\r\n  //   <div className=\"top-bar-left\">\r\n  //     <ul className=\"menu\">\r\n  //       <li className=\"menu-text\">WGTV Live</li>\r\n  //     </ul>\r\n  //   </div>\r\n  //   <div className=\"top-bar-right\">\r\n  //     <ul className=\"menu\">\r\n  //       <li><GoogleAuth /></li>\r\n  //     </ul>\r\n  //   </div>\r\n  // </div>;\r\n\r\nexport default NavigationHeader;\r\n","import React, { Component } from 'react';\r\n\r\nconst CellHeaderLeft = () => null;\r\nconst CellHeaderRight = () => null;\r\nconst CellMainContent = () => null;\r\n\r\nconst BaseGrid = class extends Component {\r\n  static CellHeaderLeft = CellHeaderLeft;\r\n  static CellHeaderRight = CellHeaderRight;\r\n  static CellMainContent = CellMainContent;\r\n\r\n  render() {\r\n    const { children } = this.props\r\n    const cellHeaderLeft = children.find(child => child.type === CellHeaderLeft);\r\n    const cellHeaderRight = children.find(child => child.type === CellHeaderRight);\r\n    const cellMainContent = children.find(child => child.type === CellMainContent);\r\n    return (\r\n      <div className=\"grid-x grid-margin-x grid-padding-y\">\r\n        <div className=\"cell medium-6\">\r\n          <div className=\"text-left\">\r\n            { cellHeaderLeft ? cellHeaderLeft.props.children : null }\r\n          </div>\r\n        </div>\r\n        <div className=\"cell medium-6\">\r\n          <div className=\"text-right\">\r\n            { cellHeaderRight ? cellHeaderRight.props.children : null }\r\n          </div>\r\n        </div>\r\n        <div className=\"cell medium-12 padding-top-0\">\r\n          { cellMainContent ? cellMainContent.props.children : null }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nBaseGrid.defaultProps = {\r\n  children: [],\r\n};\r\n\r\nexport default BaseGrid;\r\n","import axios from 'axios';\r\n\r\nconst streamsApi = axios.create({\r\n  baseURL: 'http://3005',\r\n});\r\n\r\nexport default streamsApi;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport BaseGrid from '../../../layouts/base-grid';\r\nimport { handleFetchStreams } from '../../../../store/actions';\r\n\r\nconst StreamList = class extends Component {\r\n  componentDidMount() {\r\n    const { handleFetchStreams } = this.props;\r\n    handleFetchStreams();\r\n  }\r\n  \r\n  render() {\r\n    const { streams } = this.props;\r\n    if (!streams.length) return null;\r\n    return (\r\n      <BaseGrid>\r\n        <BaseGrid.CellHeaderLeft> </BaseGrid.CellHeaderLeft>\r\n        <BaseGrid.CellHeaderRight> </BaseGrid.CellHeaderRight>\r\n        <BaseGrid.CellMainContent>\r\n          { streams.map(function iterateStreams(item) {\r\n              return (\r\n                <div className=\"radius bordered shadow card\">\r\n                  <div className=\"card-section\">\r\n                    <h6><b><u>Default stream credentials</u></b> <br/> <b>url:</b> rtmp://localhost/live <br/> <b>Stream key:</b> 1 </h6>\r\n                    <Link type=\"button\" to={ `/` } className=\"primary radius bordered shadow button\">Copy to stream software</Link>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }).reverse() }\r\n        </BaseGrid.CellMainContent>\r\n      </BaseGrid>\r\n    );\r\n  }\r\n};\r\n\r\nStreamList.defaultProps = {\r\n  streams: [],\r\n  handleFetchStreams: () => {},\r\n};\r\n\r\nexport default connect(\r\n  ({ streams = {} }) => ({ \r\n    streams: Object.values(streams),\r\n  }),\r\n  { handleFetchStreams }\r\n)(StreamList);\r\n","import { HANDLE_FETCH_STREAMS, HANDLE_FETCH_STREAM } from './types';\r\nimport streamsApi from '../../api/streams';\r\n\r\nexport const handleFetchStreams = () => async (dispatch) => {\r\n  const response = await streamsApi.get('/streams');\r\n  const { data } = response;\r\n  dispatch({\r\n    type: HANDLE_FETCH_STREAMS,\r\n    payload: { data },\r\n  });\r\n};\r\n\r\nexport const handleFetchStream = () => async (dispatch) => {\r\n  const response = await streamsApi.get(`/streams/1`);\r\n  const { data } = response;\r\n  dispatch({\r\n    type: HANDLE_FETCH_STREAM,\r\n    payload: { data },\r\n  });\r\n};\r\n","/* Action Types */\r\nexport const HANDLE_FETCH_STREAMS = 'HANDLE_FETCH_STREAMS';\r\nexport const HANDLE_FETCH_STREAM = 'HANDLE_FETCH_STREAM';\r\n","import React, { createRef, Component } from 'react';\r\nimport flv from 'flv.js';\r\nimport { connect } from 'react-redux';\r\nimport BaseGrid from '../../../layouts/base-grid';\r\nimport { handleFetchStream } from '../../../../store/actions';\r\n\r\nconst StreamShow = class extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoRef = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { handleFetchStream} = this.props;\r\n    handleFetchStream(1);\r\n    this.buildPlayer();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.buildPlayer();\r\n  }\r\n\r\n  buildPlayer = () => {\r\n    const { stream } = this.props;\r\n    if (this.player || !stream) return;\r\n    this.player = flv.createPlayer({\r\n      type: 'flv',\r\n      url: `http://live/1.flv`,\r\n    });\r\n    this.player.attachMediaElement(this.videoRef.current);\r\n    this.player.load();\r\n  }\r\n  \r\n  render() {\r\n    const { stream } = this.props;\r\n    if (!stream) return null;\r\n    return (\r\n      <BaseGrid>\r\n        <BaseGrid.CellHeaderLeft> </BaseGrid.CellHeaderLeft>\r\n        <BaseGrid.CellHeaderRight> </BaseGrid.CellHeaderRight>\r\n        <BaseGrid.CellMainContent>\r\n          <video \r\n            ref={ this.videoRef } \r\n            className=\"video-container radius bordered shadow\"\r\n            controls\r\n          />\r\n        </BaseGrid.CellMainContent>\r\n      </BaseGrid>\r\n    );\r\n  }\r\n};\r\n\r\nStreamShow.defaultProps = {\r\n  stream: null,\r\n  match: null,\r\n  handleFetchStream: () => {},\r\n};\r\n\r\nexport default connect(\r\n  ({ streams  }) => ({ stream: streams }),\r\n  { handleFetchStream },\r\n)(StreamShow);\r\n","import uuid from 'uuid';\r\nimport StreamList from '../pages/streams/list';\r\nimport StreamShow from '../pages/streams/show';\r\n\r\nconst routesData = [\r\n  {\r\n    path: '/streams/1',\r\n    page: StreamList,\r\n    ownProps: {},\r\n  },\r\n  {\r\n    path: '/',\r\n    page: StreamShow,\r\n    ownProps: {},\r\n  }\r\n];\r\n\r\nroutesData.forEach(function iterateRoutesData(item) {\r\n  item.uuid = uuid.v4();\r\n});\r\n\r\nexport default routesData;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport routesData from './routesData';\r\n\r\nconst Routes = () => \r\n  <div className=\"grid-x grid-padding-x grid-padding-y\">\r\n    <div className=\"cell\">\r\n      <Switch>\r\n        { routesData.map(function iterateRoutesData(item) {\r\n            const { uuid, path, page: DynRoutedPage, ownProps = {} } = item;\r\n            return (\r\n              <Route exact key={ uuid } path={ path } \r\n                render={ (props = {}) => <DynRoutedPage { ...props } { ...ownProps } /> } \r\n              />\r\n            );\r\n          }) }\r\n      </Switch>\r\n    </div>\r\n  </div>;\r\n\r\nexport default Routes;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import React, { Fragment } from 'react';\r\nimport { Router } from 'react-router-dom';\r\n\r\nimport NavigationHeader from './layouts/navigation-header';\r\nimport Routes from './routes';\r\nimport history from '../history';\r\n\r\nconst App = () =>\r\n  <Router history={ history }>\r\n    <Fragment>\r\n      <NavigationHeader />\r\n      <Routes />\r\n    </Fragment>\r\n  </Router>;\r\n\r\nexport default App;\r\n","import _mapKeys from 'lodash/mapKeys';\r\nimport { HANDLE_FETCH_STREAMS, HANDLE_FETCH_STREAM } from '../actions/types';\r\n\r\n\r\nconst streamsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case HANDLE_FETCH_STREAMS:\r\n      return { ...state, ..._mapKeys(action.payload.data, '1') };\r\n    case HANDLE_FETCH_STREAM:\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default streamsReducer;\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport streamsReducer from './streamsReducer';\r\n\r\nconst [form, streams] = [formReducer, streamsReducer];\r\nconst reducers = combineReducers({ form, streams });\r\n\r\nexport default reducers;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './views/app';\r\nimport reducers from './store/reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\r\n\r\nrender(<Provider store={ store }><App /></Provider>, document.getElementById('root'));\r\n"],"sourceRoot":""}