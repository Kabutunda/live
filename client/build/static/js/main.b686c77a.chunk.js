(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(250)},250:function(e,t,a){"use strict";a.r(t);var n,r,l=a(0),c=a.n(l),u=a(99),i=a(23),o=a(16),s=a(101),d=a(256),m=function(){return c.a.createElement("div",null)},p=a(254),f=a(255),h=a(102),E=a.n(h),v=a(2),b=a(1),y=a(5),O=a(4),j=a(6),g=a(252),w=function(){return null},C=function(){return null},N=function(){return null},S=(r=n=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.children,t=e.find(function(e){return e.type===w}),a=e.find(function(e){return e.type===C}),n=e.find(function(e){return e.type===N});return c.a.createElement("div",{className:"grid-x grid-margin-x grid-padding-y"},c.a.createElement("div",{className:"cell medium-6"},c.a.createElement("div",{className:"text-left"},t?t.props.children:null)),c.a.createElement("div",{className:"cell medium-6"},c.a.createElement("div",{className:"text-right"},a?a.props.children:null)),c.a.createElement("div",{className:"cell medium-12 padding-top-0"},n?n.props.children:null))}}]),t}(l.Component),n.CellHeaderLeft=w,n.CellHeaderRight=C,n.CellMainContent=N,r);S.defaultProps={children:[]};var _=S,H=a(27),R=a.n(H),k=a(64),x=a(103),F=a.n(x).a.create({baseURL:"http://localhost:3005"}),M=a(39),P=Object(M.a)(),D=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleFetchStreams)()}},{key:"render",value:function(){var e=this.props.streams;return e.length?c.a.createElement(_,null,c.a.createElement(_.CellHeaderLeft,null," "),c.a.createElement(_.CellHeaderRight,null," "),c.a.createElement(_.CellMainContent,null,e.map(function(e){return c.a.createElement("div",{className:"radius bordered shadow card"},c.a.createElement("div",{className:"card-section"},c.a.createElement("h6",null,c.a.createElement("b",null,c.a.createElement("u",null,"Default stream credentials"))," ",c.a.createElement("br",null)," ",c.a.createElement("b",null,"url:")," rtmp://localhost/live ",c.a.createElement("br",null)," ",c.a.createElement("b",null,"Stream key:")," 1 "),c.a.createElement(g.a,{type:"button",to:"/",className:"primary radius bordered shadow button"},"Copy to stream software")))}).reverse())):null}}]),t}(l.Component);D.defaultProps={streams:[],handleFetchStreams:function(){}};var T=Object(i.b)(function(e){var t=e.streams,a=void 0===t?{}:t;return{streams:Object.values(a)}},{handleFetchStreams:function(){return function(){var e=Object(k.a)(R.a.mark(function e(t){var a,n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/streams");case 2:a=e.sent,n=a.data,t({type:"HANDLE_FETCH_STREAMS",payload:{data:n}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(D),L=a(107),A=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).buildPlayer=function(){var e=a.props.stream;!a.player&&e&&(a.player=L.a.createPlayer({type:"flv",url:"http://localhost:8000/live/1.flv"}),a.player.attachMediaElement(a.videoRef.current),a.player.load())},a.videoRef=Object(l.createRef)(),a}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleFetchStream)(1),this.buildPlayer()}},{key:"componentDidUpdate",value:function(){this.buildPlayer()}},{key:"render",value:function(){var e=this.props.stream;return e?c.a.createElement(_,null,c.a.createElement(_.CellHeaderLeft,null),c.a.createElement(_.CellHeaderRight,null),c.a.createElement(_.CellMainContent,null,c.a.createElement("div",{className:"radius bordered shadow card"},c.a.createElement("div",{className:"card-section"},c.a.createElement("h4",null,e.title),c.a.createElement("p",null,e.description),c.a.createElement("video",{ref:this.videoRef,className:"video-container radius bordered shadow",controls:!0}))))):null}}]),t}(l.Component);A.defaultProps={stream:null,match:null,handleFetchStream:function(){}};var U=[{path:"/streams/1",page:T,ownProps:{}},{path:"/",page:Object(i.b)(function(e){return{stream:e.streams}},{handleFetchStream:function(){return function(){var e=Object(k.a)(R.a.mark(function e(t){var a,n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/streams/1");case 2:a=e.sent,n=a.data,t({type:"HANDLE_FETCH_STREAM",payload:{data:n}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(A),ownProps:{}}];U.forEach(function(e){e.uuid=E.a.v4()});var I=U,J=function(){return c.a.createElement("div",{className:"grid-x grid-padding-x grid-padding-y"},c.a.createElement("div",{className:"cell"},c.a.createElement(p.a,null,I.map(function(e){var t=e.uuid,a=e.path,n=e.page,r=e.ownProps,l=void 0===r?{}:r;return c.a.createElement(f.a,{exact:!0,key:t,path:a,render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.a.createElement(n,Object.assign({},e,l))}})}))))},X=function(){return c.a.createElement(d.a,{history:P},c.a.createElement(l.Fragment,null,c.a.createElement(m,null),c.a.createElement(J,null)))},B=a(253),V=a(108),q=(a(145),a(105)),z=a.n(q),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_FETCH_STREAMS":return Object(V.a)({},e,z()(t.payload.data,"1"));case"HANDLE_FETCH_STREAM":default:return e}},K=B.a,Q=G,W=Object(o.c)({form:K,streams:Q}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Z=Object(o.e)(W,Y(Object(o.a)(s.a)));Object(u.render)(c.a.createElement(i.a,{store:Z},c.a.createElement(X,null)),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.b686c77a.chunk.js.map